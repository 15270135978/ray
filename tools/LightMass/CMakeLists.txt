SET(LIB_NAME "LightMass")

SET(HEADER_PATH ${INCLUDE_PATH}/${LIB_NAME})

INCLUDE_DIRECTORIES(${DEPENDENCIES_PATH}/glfw/include)
INCLUDE_DIRECTORIES(${DEPENDENCIES_PATH}/glew/include)

INCLUDE_DIRECTORIES(${DEPENDENCIES_PATH}/thekla_atlas)
CONFIGURE_FILE(${DEPENDENCIES_PATH}/thekla_atlas/lib/x86/thekla_atlas.lib ${LIBRARY_OUTPUT_PATH} COPYONLY)

IF(NOT BUILD_OPENGL_ES)
    ADD_DEFINITIONS(-DGLEW_STATIC)
ENDIF()

FILE(GLOB HEADER_LIST *.h)
FILE(GLOB SOURCE_LIST *.cpp)

SOURCE_GROUP("LightMass" FILES ${HEADER_LIST})
SOURCE_GROUP("LightMass" FILES ${SOURCE_LIST})

ADD_EXECUTABLE(${LIB_NAME} ${HEADER_LIST} ${SOURCE_LIST})

TARGET_LINK_LIBRARIES(${LIB_NAME} PRIVATE glew)
TARGET_LINK_LIBRARIES(${LIB_NAME} PRIVATE glfw)
TARGET_LINK_LIBRARIES(${LIB_NAME} PRIVATE opengl32)
TARGET_LINK_LIBRARIES(${LIB_NAME} PRIVATE libplatform)
TARGET_LINK_LIBRARIES(${LIB_NAME} PRIVATE nvcore)
TARGET_LINK_LIBRARIES(${LIB_NAME} PRIVATE nvmath)
TARGET_LINK_LIBRARIES(${LIB_NAME} PRIVATE nvmesh)
TARGET_LINK_LIBRARIES(${LIB_NAME} PRIVATE nvimage)
TARGET_LINK_LIBRARIES(${LIB_NAME} PRIVATE thekla_atlas)